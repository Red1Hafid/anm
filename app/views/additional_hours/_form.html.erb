<!-- Modal -->
<div class="modal fade" id="edit_additional_hour" role="dialog">
    <%= simple_form_for @additional_hour do |f| %>
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="myLargeModalLabel">Modification des heures supplémentaire</h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            </div>
            <div class="modal-body">
                <div class="modal-body">
                    <div class="form-group">
                        <%= f.input :additional_hour_date, label: 'Date', as: :date, html5: true, input_html: { id: 'date', onchange: 'week_number_in_month();'}, class: 'form-control' %>
                    </div>
                    
                    <div class="form-group">
                        <%= f.input :period, label: 'Période', input_html: { class: 'week_number_in_month_selected', :style => "display:none;" } %>
                        <h4><span class="badge badge-soft-info badge-pill ml-1 week_number"></span> <h4>
                    </div>
                    <div class="form-group">
                        <%= f.input :total_additional_hour_in_week, label: 'Total des heures supplémentaire dans cette semaine', placeholder: "Entrer le Total des heures sup", class: 'form-control' %>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <%= f.button :submit, 'Valider', class: 'btn btn-raised btn-success' %>
                <button type="button" class="btn btn-raised btn-danger" data-dismiss="modal">Annuler</button>
            </div>
        </div>
      </div>
    <% end %>
</div>

<script>
     function week_number_in_month() {
        var date = document.getElementById("date").value;
        var url = '<%= domainename + 'week_number_in_month/' %>';
    
            $.when(
                $.getJSON(url+date)
            ).done( function(json) {
                $('.week_number').text("Semaine " + json);
                $('.week_number_in_month_selected').val(json);
            });  
    }

</script>